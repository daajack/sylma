<?xml version="1.0" encoding="utf-8"?>
<le:action xmlns:le="http://www.sylma.org/execution" xmlns:li="http://www.sylma.org/interface" xmlns="http://www.w3.org/1999/xhtml">
  <le:settings>
    <le:name>Liste</le:name>
    <le:argument name="model" format="php-string" set-variable="model"/>
    <le:argument format="php-string" name="module"/>
    <le:argument format="php-string" name="headers"/>
    <le:argument name="xquery-headers" format="php-array"/>
    <le:document set-variable="datas">
      <le:xquery>
        <le:get-argument name="xquery-headers"/>
        <le:file path="list.xq" output="text" le:parse-variables="true"/>
      </le:xquery>
    </le:document>
    <le:window>
      <li:add-css le:format="string">
        <le:directory/>
        <le:argument>/list.css</le:argument>
      </li:add-css>
    </le:window>
  </le:settings>
  <div class="actions">
    <a href="[$path-add]">CrÃ©er</a>
  </div>
  <table class="list">
    <le:get-variable name="datas">
      <li:parse>
        <le:template path="list.xsl">
          <li:set-parameter>
            <le:argument>module</le:argument>
            <le:get-argument name="module"/>
          </li:set-parameter>
          <li:set-parameter>
            <le:argument>headers</le:argument>
            <le:get-argument name="headers"/>
          </li:set-parameter>
        </le:template>
      </li:parse>
    </le:get-variable>
  </table>
  <le:get-variable name="datas">
    <li:parse>
      <le:template path="pager.xsl">
        <li:set-parameter>
          <le:argument>path</le:argument>
          <le:get-variable name="path-list"/>
        </li:set-parameter>
      </le:template>
    </li:parse>
  </le:get-variable>
</le:action>
