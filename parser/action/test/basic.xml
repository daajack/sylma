<?xml version="1.0" encoding="utf-8"?>
<tst:tests xmlns:tst="http://www.sylma.org/parser/action/test" xmlns="http://www.sylma.org" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:le="http://www.sylma.org/parser/action" xmlns:li="http://www.sylma.org/parser/caller">
  <tst:description>Basic / Caller</tst:description>
  <tst:test name="Load file">
    <le:action>
      <le:file path="simple.txt"/>
    </le:action>
    <tst:expected>
      $result = $controler->getArgument('action');

      return
        $result instanceof \sylma\dom\handler &amp;&amp;
        $result->getRoot() &amp;&amp;
        $result->getRoot()->getName() == 'file';
    </tst:expected>
  </tst:test>
  <tst:test name="Simple call : read text file">
    <le:action>
      <div>
        <le:file path="simple.txt">
          <li:call name="read"/>
        </le:file>
      </div>
    </le:action>
    <tst:expected>
      $result = $controler->getArgument('action');

      return $result->getRoot()->asString() == '&lt;div xmlns="http://www.sylma.org"&gt;123&lt;/div&gt;';
    </tst:expected>
  </tst:test>
  <tst:test name="Call with arguments" disabled="true">
    <le:action>
      <le:directory>
        <li:call name="get-directory">
          <li:argument>samples</li:argument>
        </li:call>
      </le:directory>
    </le:action>
    <tst:expected>
      $result = $controler->getArgument('action');

      return
        $result instanceof dom\handler &amp;&amp;
        $result->getRoot() &amp;&amp;
        $result->getRoot()->getName() == 'directory';
    </tst:expected>
  </tst:test>
</tst:tests>