<?xml version="1.0" encoding="utf-8"?>
<le:action xmlns:le="http://www.sylma.org/execution" xmlns:li="http://www.sylma.org/interface" xmlns="http://www.w3.org/1999/xhtml" xmlns:la="http://www.sylma.org/processors/action-builder">
  <le:settings>
    <le:name>Simple Liste</le:name>
    <le:argument format="XML_Document" name="o-model"/>
    <le:argument format="php-string" name="module"/>
    <le:argument format="php-string" name="path-list"/>
    <le:argument format="XML_Document" name="datas"/>
    <le:template path="simple.xsl" set-variable="template">
      <li:set-parameter>
        <le:argument>module</le:argument>
        <le:get-argument name="module"/>
      </li:set-parameter>
      <li:set-parameter>
        <le:argument>directory</le:argument>
        <le:string><le:directory/></le:string>
      </li:set-parameter>
    </le:template>
    <le:argument name="template-extension" required="false" format="XML_Element">
      <le:validate>
        <le:get-variable name="template">
          <li:include-element>
            <le:get-argument name="template-extension"/>
          </li:include-element>
        </le:get-variable>
      </le:validate>
    </le:argument>
    <le:processor path="/sylma/processors/action-builder" namespace="http://www.sylma.org/processors/action-builder"/>
  </le:settings>
  <la:layer name="lister" class="lister" extend-base="sylma.dbx-classes">
    <la:property name="current">
      <le:get-argument name="datas">
        <li:read>/*/@page</li:read>
      </le:get-argument>
    </la:property>
    <la:property name="last">
      <le:get-argument name="datas">
        <li:read>/*/@total</li:read>
      </le:get-argument>
    </la:property>
    <la:property name="sylma-update-path">
      <le:get-argument name="path-list"/>
    </la:property>
    <tbody>
      <le:document>
        <le:get-argument name="o-model"/>
        <li:add>
          <le:get-argument name="datas"/>
        </li:add>
        <li:parse>
          <le:get-variable name="template"/>
        </li:parse>
      </le:document>
      <tr>
        <td colspan="99">
          <le:get-argument name="datas">
            <li:parse>
              <le:template path="pager.xsl">
                <li:set-parameter>
                  <le:argument>path</le:argument>
                  <le:get-argument name="path-list"/>
                </li:set-parameter>
              </le:template>
            </li:parse>
          </le:get-argument>
        </td>
      </tr>
    </tbody>
  </la:layer>
</le:action>
