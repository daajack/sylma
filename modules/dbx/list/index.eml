<?xml version="1.0" encoding="utf-8"?>
<le:action xmlns:le="http://www.sylma.org/execution" xmlns:li="http://www.sylma.org/interface" xmlns="http://www.w3.org/1999/xhtml" xmlns:la="http://www.sylma.org/processors/action-builder" xmlns:dbx="http://www.sylma.org/modules/dbx">
  <le:settings>
    <le:name>Liste</le:name>
    <le:argument format="XML_Document" name="o-model"/>
    <le:argument format="php-string" name="module"/>
    <le:argument format="php-string" name="path-add" set-variable="path-add"/>
    <le:argument format="php-string" name="path-list"/>
    <le:argument format="XML_Document" name="datas"/>
    <le:argument name="template-extension" required="false"/>
    <le:get-argument name="o-model">
      <li:get set-variable="order">
        <le:argument>*[3]/dbx:order</le:argument>
        <le:ns dbx:ns="null">dbx</le:ns>
      </li:get>
    </le:get-argument>
    <le:processor path="/sylma/processors/action-builder" namespace="http://www.sylma.org/processors/action-builder"/>
    <le:action path="/sylma/processors/action-builder/init"/>
    <le:window>
      <li:add-css le:format="string">
        <le:directory/>
        <le:argument>/index.css</le:argument>
      </li:add-css>
      <li:add-js le:format="string">
        <le:directory/>
        <le:argument>/index.js</le:argument>
      </li:add-js>
    </le:window>
  </le:settings>
  <div class="actions">
    <a href="[$path-add]">Cr√©er</a>
  </div>
  <la:layer extend-base="sylma.dbx-classes" name="dbx" class="main">
    <la:property name="order">
      <le:get-variable name="order">
        <li:read/>
      </le:get-variable>
    </la:property>
    <la:property name="orderDir">
      <le:get-variable name="order">
        <li:read>@dir</li:read>
      </le:get-variable>
    </la:property>
    <table class="list">
      <la:group name="headers" key-type="assoc">
        <le:get-argument name="o-model">
          <li:parse>
            <le:document class="xsl">
              <la:replace-events>
                <le:template path="headers.xsl">
                  <li:include-externals/>
                </le:template>
              </la:replace-events>
              <li:set-parameter>
                <le:argument>module</le:argument>
                <le:get-argument name="module"/>
              </li:set-parameter>
            </le:document>
          </li:parse>
        </le:get-argument>
      </la:group>
      <le:action path="simple">
        <le:get-argument le:name="o-model" name="o-model"/>
        <le:get-argument le:name="datas" name="datas"/>
        <le:get-argument le:name="module" name="module"/>
        <le:get-argument le:name="path-list" name="path-list"/>
        <le:get-argument le:name="template-extension" name="template-extension"/>
      </le:action>
    </table>
  </la:layer>
</le:action>
