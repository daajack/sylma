<?xml version="1.0" encoding="utf-8"?>
<le:action xmlns:le="http://www.sylma.org/execution" xmlns:li="http://www.sylma.org/interface" xmlns="http://www.w3.org/1999/xhtml" xmlns:la="http://www.sylma.org/processors/action-builder">
  <le:settings>
    <le:name>Créer une resource</le:name>
  </le:settings>
  <la:layer name="addResource">
    <div class="clearfix" id="resource-tools-add">
      <a href="#">
        <span id="jumploader-caller">Ajouter des fichiers</span>
        <la:event name="click"><![CDATA[%ref-object%.rootObject.toggleUploader();
return false;]]></la:event>
      </a>
      <div href="#">
        <span>Créer un répertoire</span>
        <la:object class="/sylma.classes.menu" hidden="true" name="directory">
          <form class="sylma-tools">
            <la:event name="submit"><![CDATA[%ref-object%.hide();
%ref-object%.rootObject.addDirectory(this);
return false;]]></la:event>
            <input type="text" name="resource-name"/>
            <input type="submit" value="Créer"/>
            <input type="button" value="Annuler">
              <la:event name="click"><![CDATA[return %ref-object%.hide();]]></la:event>
            </input>
          </form>
        </la:object>
        <la:event name="click" limit="self,first"><![CDATA[%ref-object%.directory.hide(true);
%ref-object%.directory.show();
%ref-object%.directory.node.getElement('input[type=text]').set('value', '').focus();
return false;]]></la:event>
      </div>
    </div>
  </la:layer>
</le:action>
